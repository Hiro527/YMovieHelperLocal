# YMovieHelper の使い方(チュートリアル)

YMovieHelper を使用していただき、ありがとうございます。本ドキュメントは YMovieHelper の使用方法についてのドキュメントとなります。ハンズオン形式で書かれているので、読み進めながら実際に手を動かして作成してください。このドキュメントのここが分かりにくいよ！という点があれば [お問い合わせフォーム](https://forms.gle/Gh3ZpW9DS64eb1qS7)までお知らせいただけるとすごく助かります。Twitter の DM の仕様変更による措置なので、何でも気軽にお問い合わせいただいて構いません。引き続きサポートが必要な方はメールアドレスや Twitter のアカウント名など、連絡先を記載いただけるとだんごの方から連絡させていただきます。

## 注意

YMovieHelper の利用規約については、[ここ](/terms_of_use)をご覧ください。ただし、以下に挙げる点は必ず守ってください。以下 3 点を守っていただけなかった場合は、予告なくアカウント削除等の措置を取る場合があります。

> - YMovieHelper はだんご（以下私）が作成したものであり、饅頭遣い（YukkuriMovieMaker4 の作者）様とは一切の関係がありません。そのため、饅頭遣い様に YMovieHelper の使用方法等を聞きに行くのは**絶対にやめてください**。分からないことがあれば、[お問い合わせフォーム](https://forms.gle/Gh3ZpW9DS64eb1qS7)までご連絡をお願いいたします。
> - また、各ユーザーは１アカウントのみ保有することができ、複数アカウントを所持することは出来ません。YMovieHelper 内に定められた[各上限の範囲内](#user-content-上限)で使用してください。何か特段な理由がある場合には[お問い合わせフォーム](https://forms.gle/Gh3ZpW9DS64eb1qS7)までご相談ください。
> - 想定されている使用方法以外で何か不利益を被っても私は一切の責任を負いません。

## 概要

YMovieHelper は「ゆっくり動画」「ゆっくり解説」「ゆっくり実況」等の動画を作成する際に使うことができる動画作成支援ツールです。

動画で学びたい方は、以下のリンクからどうぞ。

**基本説明編**

[![](https://img.youtube.com/vi/3WLCdkzHGtU/0.jpg)](https://www.youtube.com/watch?v=3WLCdkzHGtU)

**実践編**

[![](https://img.youtube.com/vi/i2ujhCanRbw/0.jpg)](https://www.youtube.com/watch?v=i2ujhCanRbw)

YMovieHelper は以下のフローに従うことで、台本で指定した要素を配置したプロジェクトファイルを作成することができます。台本には、以下の要素を指定することができます。

1. (指定された csv 形式の )台本のアップロード
1. scenario.txt というファイルがダウンロードできるので、それを YukkuriMovieMaker4(以下 YMM4) で読み込む
1. scenario.txt を読み込み、保存した ymmp ファイルを更に YMovieHelper にアップロード
1. ダウンロードできる complete.ymmp を YMM4 で読み込む

![ワークフロー](/work_flow.svg)

- キャラクターと、そのセリフ、表情
- セリフの長さに合わせた、画像、動画、効果音の挿入

また、後述するルールを作成することで、動画の任意の位置に任意のアイテムを挿入することができます。これを用いることで、後は個々の動画における微調整を行うだけで動画作成を行うことができます。

## フォルダ構成

YMovieHelper を用いて動画作成を行う際には以下のフォルダ構成に従って動画を作成することになります。最終的な出力は complete.ymmp となります。以下の 2 点に留意してください。

- []で囲まれたフォルダ名はユーザーが自由に決めることができます。
- [Movie]フォルダと、[Movie].ymmp の名称は必ず一致させてください。
- [Dynamic Item1]や[Dynamic Item2]は、Dynamic Item 内と、[Movie]ディレクトリ内で一致させてください。

この 2 点を遵守していない場合、適切な出力を得ることができません。

![ディレクトリ構成の図](/directory.svg)

（拡大してご覧ください。）

## 用語説明

フォルダ構成ならびに、YMovieHelper に出てくる用語の説明を行います。ただし、本用語では英語表記と日本語表記が入り混じることがあります。分からないことがあれば、以下の対応表で確認をお願いいたします。

| 英語      | 日本語       |
| --------- | ------------ |
| Software  | ソフトウェア |
| Project   | プロジェクト |
| Rule      | ルール       |
| Character | キャラクター |
| Emotion   | 表情         |
| Item      | アイテム     |
| Voiceline | ボイスライン |

### Software

Software はあなたの使用している YMM4 のことを指します。なので、Software フォルダの内部には YukkuriMovieMaker4 を必ず入れてください。YMM4 を使い分けている方は、YMovieHelper に登録する YMM4 の数だけ、[Software]フォルダを作成し、そこに YMM4 を配置してください。一般的な用途であれば[Software]フォルダは 1 つで十分です。

### Project

Project はあなたの作成したい動画の種類に応じて作成するものです。後述するルールと一対一に対応するものなので、Project を複数作成することで様々な動画を作成することができます。（「ゆっくり解説」プロジェクトと「総集編」プロジェクト、のようにプロジェクトを分けることができます。）
一般的な用途であれば、1 つの Software に対して 1 つの Project で十分です。

### Movie

[Movie]フォルダは具体的に作成する動画に対応するフォルダです。なので、[Movie] フォルダには 1 つの[Movie].ymmp が存在します。また、Movie フォルダにはその動画でのみ使用する素材等を全て入れることになります([Movie].ymmp、[Dynamic Item]、scenario.csv、scenario.txt) 。

プロジェクト内で使いまわす素材については後述する Single Item や Multiple Item 内にディレクトリを作成して素材を入れてください。

### Character

[Characters]フォルダは YMM4 で使用するキャラクターを登録するための ymmp ファイルを保存するフォルダです（具体的なファイル形式に関してはチュートリアルの[キャラクターの登録](#user-content-キャラクターの登録)をご覧ください。）。

Version 1 現在、対応しているボイスエンジンは Softalk のみです。他のボイスエンジンに関しても、追加される度に更新情報にて告知いたします。

YMovieHelper は YMM4 におけるキャラクターから拡張して「削除」属性というものを定義することができます。「削除」属性を取り付けたキャラクターは、YMovieHelper の最終出力（complete.ymmp）において、削除させることができます。この機能を利用することで、動画の切れ目にボイスアイテムを挟みたくない、などの需要に幅広く応えることができます。

また、Character には表情を登録することもできます。どのセリフにどの表情を結び付けるかを台本で指定することができます。

### Item

YMovieHelper には Dynamic Item、Single Item、Multiple Item という 3 種類の Item という概念があります。全て異なる用途で使用するものなので、必要に応じて使い分けてください。

#### Dynamic Item

Dynamic Item フォルダは各動画のみで使用される素材のテンプレートを格納するフォルダです。実際の素材は Voiceline(後述)に合わせて素材を変えて挿入することができます（例：霊夢の「みなさんおはこんばんにちわ！」というセリフの始まりから、魔理沙の「さすがにそれはやばいんだぜ」というセリフの終わりまで、image3.jpg という画像を挿入、など。）。「ゆっくり解説」などの、セリフに合わせて画像が変わる動画形式で用いることができます。Dynamic Item はビデオアイテム、画像アイテム、オーディオアイテム（ボイスアイテムではありません。）を挿入することができます。

実際の素材は[Movie]フォルダの中の[Dynamic Item]フォルダに入れることになります。（[Dynamic Item]フォルダと Dynamic Item フォルダの違いに注意してください。）

アップロードする ymmp ファイルにエフェクト、座標等を登録しておくことで、そのまま中身を変えるだけでアイテムを挿入することができます。

#### Single Item

[Single Item]フォルダはプロジェクト内での動画に共通して挿入するためのアイテムの素材を格納するフォルダです（毎動画に必ず挿入する必要はありません。）。ただし、使用するアイテムによっては素材が必要ない場合もあります（YMM4 内における立ち絵アイテムやエフェクトアイテムなど。）。Dynamic Item と違って挿入できる位置は

1. 最初
1. 最後
1. 特定のキャラクターがセリフを発した後

とバリエーションに欠けますが、挿入できるアイテムは YMM4 内で使用されるアイテムであればなんでも使用できます。後述するキャラクターの「削除」属性と組み合わせることによって、特定のタイミングでフェードアイテムを挿入、といった使い方ができるようになります。
また、挿入する長さも自由に決めることができます。

#### Multiple Item

[Multiple Item]フォルダは Single Item と同じく、プロジェクト内での動画に共通して挿入するためのアイテムの素材を格納するフォルダです（毎動画に必ず挿入する必要はありません。）。ただし、使用するアイテムによっては素材が必要ない場合もあります（YMM4 内における立ち絵アイテムやエフェクトアイテムなど。）。YMM4 におけるテンプレートアイテムとほとんど一対一対応する概念で、YMM4 内で定義できる任意の複数のアイテムをまとめたものを以下に示す場所において挿入することができます。

1. 最初
1. 最後
1. 特定のキャラクターがセリフを発した後

ただし、Single Item と違って長さを指定することができません。Multiple Item を登録した時点で、その各アイテムの長さ分だけ常に挿入されることになります（よって、Multiple Item で実現可能なことは、理論上 Single Item で全て実現可能です。Multiple Item は Single Item のショートハンドです。）。

### Rule

YMovieHelper は、登録した Item を台本に対してどのように挿入するかを決める、「Rule」という概念があります。ルールは 5 つのアイテム及び概念（ボイスライン、キャラクター、Dynamic Item、Single Item、Multiple Item）に対して、以降の節で紹介する 4 つの概念を設定することで自由に動画の構成を決めることができます。

- レイヤー
- 空読み文
- 始点
- 長さ

#### ボイスライン

キャラクターが喋るセリフが並ぶレイヤーのことを指します。以下の図で示されるようなボイスラインがある場合、レイヤー 4 がボイスラインとなります。

![ボイスライン](/voiceline.jpg)

#### レイヤー

YMM4 におけるレイヤーの概念と全く同じです。アイテム及びボイスラインをどのレイヤーに配置するかを設定します。ただし、Multiple Item に関しては複数アイテムの中で一番レイヤーが小さいものを起点に他のアイテムが並ぶことになります。

#### 空読み文

「削除」属性を設定したキャラクターにのみ設定する項目です。どれだけの長さの「削除」属性のボイスアイテムをボイスラインに配置し、削除するのかをあらかじめ設定するための項目です。

そのため、削除したいフレーム分の文章をあらかじめ YMM4 で計測しておく必要があります。例えば、200 フレームだけボイスラインに隙間を設けたい、というときには空読み文には「楔楔ああかか」のように設定することになります。適宜 YMM4 内で調整してください（ただし、空読み文はアプリケーションの特性上、255 文字までしか登録されません。なので、ある程度長い余白を開けたいときは楔（くさび）などで調整し、後は短音のひらがなで調節することが多くなると思います。読む速度にもよりますが、一般的に「あ」は 4 フレーム、「か」は 5 フレームになることが多いです。）。

キャラクターのデフォルトの余韻は 30 フレームとなっています。それ以下の隙間を設けたいときは余韻を小さくしてください。

空読み文は空白にすることができません。（YMM4 の台本読み込み機能の特性上、空白のセリフの時点で台本が終わったとみなされるため。）

#### 始点

Single Item と Multiple Item に対し設定する項目です。どの位置からアイテムを開始するのかを定義します。始点は固定始点と自由始点という 2 種類のうちのいずれかを選択することができます。作成したい動画の、配置したいアイテムに合わせて決定してください。ただし、MultipleItem に関しては配置されているアイテムの中で、最も最初に始まるアイテムの位置を基点に始点が定まります。

##### 固定始点

アイテムをボイスラインの最初、あるいは最後に配置するかどうかを選ぶことができます。

##### 自由始点

アイテムをどのキャラクターのセリフ開始時に配置するかを選びます。ほとんどの場合、削除属性を設定したキャラクターを選ぶことになるでしょう。調整値をいじることで始点を早めたり、遅らせたりすることができます。調整値が正の場合遅らせることに、負の場合早めることに対応することに注意してください。

#### 長さ

Single Item に対し設定する項目です。始点から、どれだけの長さをタイムラインに確保するかを定義します。長さは固定長と可変長という 2 種類のうちのいずれかを選択することができます。

##### 固定長

フレーム単位で長さを選ぶことができます。

##### 可変長

可変長の場合、注目するキャラクターが喋った後、先読み数によってどれだけの区間伸ばすかを決めることができます。例えば、先読み数を 3 に設定した場合では、それから 3 個後のキャラクターのセリフの始まりまでアイテムを伸ばすことができます（なので、先読み数は必ず 1 以上になることに注意してください。）。ただし、固定始点で最初を選んでいた場合は、最初から何セリフ先読みするかを決めることができます。調整値という項目は、終わりをどれだけ伸ばすか（縮めるか）に対応します。正の値の時は伸ばすことに対応し、負の値の時は縮めることに対応することに注意してください。

長さは始点に影響を受けないことに注意してください（自由始点で調整値を設定しても長さには影響を及ぼしません。）。

### 上限

[用語説明](#user-content-用語説明)において触れた多くのものには上限が存在します。サーバーの負荷の関係上ご了承願えると幸いです。また、前述したように各１ユーザーに対してアカウントは１つまでです。

| 対象                           | 上限          |
| ------------------------------ | ------------- |
| Software                       | 3/アカウント  |
| Project                        | 5/Software    |
| Rule                           | 1/Project     |
| Character                      | 10/Software   |
| Emotion                        | 20/Character  |
| [Dynamic/Single/Multiple] Item | 10/Project    |
| 1 日当たりの動画作成回数       | 20/アカウント |

## チュートリアル

このチュートリアルではごく一般的な「ゆっくり解説」を作成します。台本だけで全てを完結させ、YMM4 は微調整と、動画出力の機能のみを用いることを目標に作成します。必要なファイル等を全て格納したディレクトリは[本リンク](/チュートリアル用.zip)からダウンロードできます。（ただし、YMM4 とキャラクターはライセンスの関係上、リンクに含めることができません。各自好きなものをダウンロードしてください。YMM4 はチュートリアルフォルダ直下に配置してください。）

用語説明で触れた部分と重複する箇所もありますがご了承のほどお願いいたします。

重要なのが、あくまで YMovieHelper は動画編集の労力を減らすための支援ツールであり、動画の構成や、レイヤー配置、アイテムのエフェクト等は全てユーザーに委ねられます。

そのため、必ず一度は手作業で動画のプロトタイプを作成し、レイヤー配置やアイテムの設定を行ってから YMovieHelper を使用することを強く勧めます。特に、YMovieHelper 上でアイテムの詳細を確認することはできないので手戻りが発生しないようにルール作成までは慎重に行うことをお勧めします。

本チュートリアルで作成するプロジェクトファイルは以下の図のようなものとします。

![プロジェクトファイルの完成図](/complete_project.jpg)

### プロジェクトの作成

アカウントを作成、ログイン後にダッシュボードが表示されたら、右下の+ボタンを押して、Software を作成しましょう。名前は 20 文字以内で入力できます（日本語で大丈夫です。）。この名前は上記の[Software]ディレクトリと同じ名前になるように入力してください。

すると、以下の画像のようにソフトウェア が作成され、その配下に 1 つ、「Your Project」という プロジェクト が作成されていることが分かります。この プロジェクトの名前は[Project]ディレクトリと対応するように名前を変えてください。本チュートリアルでは Software の名称は「チュートリアル用」、プロジェクトの名称を「ゆっくり解説」としました。プロジェクトやアイテム、キャラクターの名前はクリックすることで編集することができます。

![dashboard](/dashboard.jpg)

### キャラクターの登録

プロジェクトを作成すると、上記の画像のようにソフトウェアに関しても、プロジェクトに関しても複数のボタンが出てきます。順を追って説明しますが、まずはキャラクターを登録しましょう。赤丸で示した部分をクリックし、キャラクターの編集場面に飛んでください。

![character](/character.jpg)

最初は誰もキャラクターが存在しないので誰も表示されません。YMM4 を開いて、**登録するキャラクターのボイスアイテムを全て配置してください（セリフは何でもかまいません。）。他のアイテムは配置してはいけません**。本チュートリアルでは「霊夢」、「魔理沙」、「フェード用」、「エンディング用」というボイスアイテムを配置しています。この際に同じ名前のキャラクターのボイスアイテムは配置しないようにしてください。キャラクターの名前を変えるなどをしてください。

![character登録](/character_register.jpg)

ボイスアイテムの配置を終えたら、characters.ymmp というファイル名で保存しましょう。**必ず、ボイスアイテムのキャッシュは無効にしてください。ymmp のファイルサイズが一定容量を超えるとエラーを返し、キャラクターの登録ができないように設定しています。以下の ymmp のアップロードでは全てボイスアイテムのキャッシュは無効にする設定にしてください。**

![ボイスキャッシュ](/voicecache.png)

ymmp ファイルを保存したら、YMovieHelper に戻って右下の+ボタンを押しましょう。ファイルのアップロード画面が現れるので、先ほど作成した ymmp ファイルをドラッグアンドドロップでアップロードしてください。少し待つと、登録したキャラクターの一覧が表示されます。**ソフトウェア内ではキャラクターの名前でキャラクターを識別しています。同じ名前のキャラクターは登録できないようになっています。**

「霊夢」と「魔理沙」と「フェード用」と「エンディング用」というキャラクターが登録されました。「フェード用」と「エンディング用」の「削除」属性をオンにしておきましょう。

![キャラクター確認](/character_check.jpg)

合わせて、キャラクターの表情も登録しておきましょう。また YMM4 を開いて、次は「霊夢」のボイスアイテムを配置しましょう。ただし、今回はセリフに「嬉しい」、「悲しい」、「びっくり」と登録したい表情の名前を入力し、そのセリフに対応する表情をボイスアイテムに設定しておきましょう。

![表情](/emotions.jpg)

配置出来たら、その ymmp ファイルを reimu_emotions.ymmp （ファイル名は何でも構いません。）という名前で保存して、YMovieHelper に戻ってください。

YMovieHelper に戻ったら、「霊夢」に表示されている 「Add Emotion」 ボタンをクリックしてください。すると、ファイルのアップロード画面が現れます。先ほど作成した reimu_emotions.ymmp をドラッグアンドドロップでアップロードしましょう。アップロード完了と表示されたら、下向き矢印をクリックして、ちゃんと表情が登録されていることを確認しておきましょう。

「魔理沙」についても同様に表情を登録しておきましょう。魔理沙に関しても「嬉しい」、「悲しい」、「びっくり」として表情を登録しました。

![表情チェック](/emotions_check.jpg)

### アイテムの登録

次に、アイテムを登録しましょう。サイドバーの Home ボタンを押してダッシュボード画面まで戻りましょう。下の図の赤丸で囲まれたボタンをクリックして、アイテムの登録画面に飛んでください。

![アイテム](/item.png)

最初は何もアイテムを登録していないので、何も表示されません。+ボタンをクリックして、アイテムの登録画面に飛びましょう。すると、以下のラジオボタンが表示されます。順を追って、今回は合計 6 個のアイテムを登録することにします。

#### Dynamic Item

Dynamic Item は、その動画特有の挿入アイテムで、台本内で挿入する素材名(ex. hero1.png)を記述することで、セリフに合わせてアイテムを挿入することができます。詳細は[Dynamic Item](#user-content-dynamic-item)の説明を見てください。

まず、Dynamic Item を作成するための ymmp ファイルを作成します。**[Software]/[Project]/Dynamic Item/[Dynamic Item]に配置してください。**

**アップロードする ymmp は、以下の図のように登録したい Dynamic Item をただ 1 つだけ配置したものにしてください。また、挿入したいアイテムに対して実際に用いる際の設定(座標、エフェクト等)を行ってから保存してください。**

![Dynamic Item](/dynamic_item.jpg)

ymmp ファイルが作成出来たら、YMovieHelper に戻りましょう。ラジオボタンで Dynamic Item を選択し、現れるファイルのアップロードゾーンに 登録したいアイテムを配置した ymmp ファイルをアップロードしましょう。アップロードしたアイテムの種類を選んだら、そのアイテムの名前を入力し、アップロードボタンをクリックして登録をしましょう。アップロード完了というバナーが現れたらアップロード完了です。

![Dynamic Itemのアップロード](/upload_dynamic_item.jpg)

今回は、セリフに合わせて表示させる「メイン画像」と、それに合わせて鳴らす「効果音」、そして動画の「BGM」を登録しました。

![Dynamic Itemのチェック](/dynamic_item_check.jpg)

※オーディオアイテムは場合にもよりますが、基本的に効果音として用いたい場合はループ機能をオフにすることをおすすめします。

#### Single Item

Single Item は動画に共通して挿入したい単発アイテムのことです。詳細は[Single Item](#user-content-single-item)の説明を見てください。

Dynamic Item の時と同様、Single Item を作成するための ymmp ファイルを作成します。Dynamic Item と異なり、複数の Single Item をまとめて登録することが可能です。また、全てのアイテムに対応しています。（今後 YMM4 がアップデートされた場合、対応していないアイテムが現れる可能性があります。Ver 1 現在対応しているのは、

- ビデオアイテム
- オーディオアイテム
- 画像アイテム
- テキストアイテム
- 図形アイテム
- ボイスアイテム
- 立ち絵アイテム
- 表情アイテム
- エフェクトアイテム
- 画面の複製
- グループ制御

です。対応していないアイテムがあれば[お問い合わせフォーム](https://forms.gle/Gh3ZpW9DS64eb1qS7)までお知らせいただけると幸いです。）**挿入したいアイテムは、実際に用いる際の設定(座標、エフェクト等)を行ってから保存してください。また、ボイスアイテムを登録する場合にはボイスキャッシュを無効にしてください。ファイルサイズが大きいとアイテムの登録はできません。ファイルがあまりに多い時は小分けしてアップロードしてください。**

![Single Item](/single_item.jpg)

ymmp ファイルが作成出来たら、ラジオボタンで Single Item を選択し、現れるファイルのアップロードゾーンに登録したいアイテムを配置した ymmp ファイルをアップロードしましょう。

ファイルをアップロードして数秒後、アップロードしたアイテムの概要が下で表示されます（概要は正直気休めでしかないので、同カテゴリの Single Item を登録したい場合は複数回ファイルをアップロードするなど慎重を期してください。）。それぞれアイテムの名前を入力し、アップロードボタンをクリックして登録をしましょう。アップロード完了というバナーが現れたらアップロード完了です。

今回は、暗転用画像、魔理沙の立ち絵、霊夢の立ち絵、背景画像、背景動画、という 5 つのアイテムを登録しました。

![Single Itemの確認](/single_item_check.png)

#### Multiple Item

Multiple Item は Single Item と同様、動画に共通して挿入したいアイテムのことです。YMM4 におけるテンプレートアイテムとほとんど同じです。詳細や Single Item との違いは[Multiple Item](#user-content-multiple-item)の説明を見てください。

今までと同様、ymmp ファイルを作成しましょう。**保存したアイテムの位置関係はそのまま出力に現れます。なので、あらかじめ位置関係を確認してから保存しましょう。今までのアイテムと同様、エフェクトなどの設定も全て行ってください・**

![Multiple Item](/multiple_item.jpg)

ラジオボタンで Multiple Item を指定して、現れるファイルのアップロードゾーンに ymmp ファイルをアップロードしましょう。アップロードが完了したら、アイテムの名称を入力して、アップロードボタンをクリックしましょう。アップロード完了というバナーが現れたらアップロード完了です。

今回は、上の画像と同様、エンディングという Multiple Item を登録しました。

今章で登録したアイテムは以下のようなものになっています。

![登録アイテムのチェック](/item_check.png)

## ルールの作成

アイテムの登録が完了したら、サイドバーから Rule ボタンをクリックして、ルールの作成画面に移りましょう。

### ボイスライン

ルールには、ボイスラインという概念があります。これは、キャラクターが喋るセリフが並ぶレイヤーのことを指します。詳細は[ボイスライン](#user-content-ボイスライン)の説明を見てください。

今回作成する動画はボイスラインのレイヤーは 4 なので、4 と入力しておきます。

### キャラクター

次に、動画で使用するキャラクターを定義しましょう。喋る予定がないキャラクターもとりあえずすべて登録しておくことをお勧めします。

「削除」属性が設定されているキャラクターには、隣に空読み文という欄が現れます。これは、YMM4 の台本機能を使用してプロジェクトファイルを作成する都合上、ボイスラインに隙間を設けたい際には、仮としてキャラクターに空けたい空白分の文章をまず入力し、後で削除する必要があるためです。

そのため、削除したいフレーム分の文章をあらかじめ YMM4 で計測しておく必要があります。空白ボイスには 255 文字までしか入力できないので、楔(くさび)などの長い読みの文字で大半まで文章を埋めてから、「あ」や「ー」、「か」等の単独のひらがなでフレームを調整しましょう。（キャラクターの余韻を設定することで、この調整は必要なくなります。そのため、余韻を設定した場合は空白ボイスは空欄のままにしておいてください。）

今回はフェード用には 110 フレームの空読みを、エンディング用には 180 フレームの空読みをしてほしかったので、それぞれ「楔楔楔あか」、「楔楔楔楔楔楔ああか」としました。

### アイテム

[アイテムの登録](#user-content-アイテムの登録)で設定したアイテムをルール内で使用しましょう。アイテムの種類によって変わりますが、

1. 挿入レイヤー (Dynamic Item, Single Item, Multiple Item)
2. 始点 (Single Item, Multiple Item)
3. 長さ (Single Item)
   の 3 つを指定する必要があります。

詳細は[レイヤー](#user-content-レイヤー)、[始点](#user-content-始点)、[長さ](#user-content-長さ)の説明を見てください。

- Dynamic Item は、メイン、効果音、BGM を登録していました。これらは、プロジェクトファイルからそれぞれレイヤーは 6, 7, 8 に配置されるので、ルールもそれに合わせて 6, 7,8 としましょう。

Single Item は、背景動画、背景画像、霊夢の立ち絵、魔理沙の立ち絵、暗転用画像を登録していました。

- このうち、背景動画、背景画像、霊夢の立ち絵、魔理沙の立ち絵、はそれぞれレイヤー 0,1,2,3 に配置され、動画の最初から最後まであってほしいものでした。なので、始点は固定始点で最初、長さは可変長で先読み数をとりあえず 10000 程度にして、最後まで伸ばしましょう。調整値は 0 として構いません。
- 暗転用画像は、プロジェクトファイルからレイヤーは 9 です。（セリフの切れ目で暗転を入れたいので）始点は自由始点に設定して、「フェード用」に追従させましょう。また、「15 フレームの空白」+「80 フレームの暗転画像」+「15 フレームの空白」(=110 フレーム=フェード用の長さ)としたいので、自由始点の調整値を 15、長さを 80 としましょう。
- Multiple Item はエンディングを登録していました。（少し難しいですが、）「エンディング」のセリフを消し、その上から Multiple Item の「エンディング」で上書きすることで、霊夢と魔理沙が「ご視聴ありがとうございました！」と同時に喋る演出を行います。そのために、始点は自由始点にして、「エンディング」に追従させましょう。調整値は 0 のままで構いません。レイヤーは 0 となることに注意してください。

以上の概念を理解し、プロジェクトに合わせて適切にルール定義を行いましょう。本チュートリアルのルールの完成図は以下のようになります。Save ボタンをクリックするか、Ctrl+S ボタンでルールの保存を必ず行ってください。**不具合で、セーブをしたのに出来ていないという不具合の報告がされています。早急に対応を行っていますが、こまめにルールの保存を行ってください。また、ルールが完成し、保存を行ったらルールがちゃんと保存されているか一度リロードを行ってください。ご迷惑をおかけして申し訳ありません。**

![ルールの完成図](/rule_definition.png)

**入力された台本に対して、論理的に不可能、あるいはおかしい(アイテムのレイヤーが干渉する)場合は正しい ymmp ファイルが得られません。出力がおかしいと思ったときは、ルールを見直すか、アイテムの設定の際にアップロードした ymmp ファイルがおかしくないかを見直しましょう。アイテム定義の ymmp ファイルがおかしいと感じたときは新しくアップロードしなおし、アイテムを再登録することをお勧めします。**

## ymmp ファイルの作成

お疲れさまでした。後は台本を作成して、アップロードするだけです！

サイドバーの Create ボタンをクリックして、作成画面に向かいましょう（**ルール設定を行っていない場合、あるいは全てのキャラクターの削除を行ったなど、物理的に complete.ymmp を作成できないときは強制的に Rule ページに遷移するようになっています。**）。

### 台本の作成

まず、テンプレートとなる csv をダウンロードしましょう。このテンプレートに従った台本をアップロードしないと上手く ymmp ファイルを作成することができません。

ダウンロードした csv には、1 列目から 3 列目にはそれぞれキャラクター、セリフ、表情名の入力欄があります。4 列目以降には登録した Dynamic Item の名前が羅列してあります。1 列目から 3 列目には、作成したい動画の台本を自由に入力してください（１、2 列目には空白が入らないようにしてください。「削除」属性を設定したキャラクターには２列目の入力にかかわらず、空読み文が入力されます。）。

4 列目以降には挿入したいアイテムのファイル名を入力してください。切りたいタイミングで「/」を入力しておくと、そのタイミングでアイテムを終わらせることができます。続けてファイル名を入力すると、そのアイテムの直前でアイテムが終わるようになります。

本チュートリアルでは[本リンク](/scenario.csv)からダウンロードできる csv を作成しました。

### 台本のアップロード、scenario.txt のダウンロード

作成した台本ファイルを YMovieHelper にアップロードしましょう。少し待つと、ダウンロードリンクが現れるので、「scenario.txt」をダウンロードしましょう。

ダウンロードした scenario.txt を YMM4 の台本機能を使って読み込み、Movie ディレクトリと**同じ名前**で保存しましょう。

![プロトタイプymmp](/prototype.jpg)

### ymmp のアップロード

保存した ymmp ファイルを YMovieHelper にアップロードし、少し待ちましょう。使用しているアイテム数と台本作成時間は比例します。長くても 10 分程度でダウンロードリンクが現れます。

ダウンロードリンクから complete.ymmp というファイルをダウンロードしたら、それを YMM4 で読み込みましょう。

作成したい動画の大部分ができているはずです。必要があれば微調整をして動画を作成しましょう。

おかしな ymmp ができていたら、前述したようにルール定義やアイテム定義を見直しましょう（そうならないように、特にアイテムは丁寧に精査してからアップロードすることを強くお勧めします。）。

### 再利用

一度作成したルールは使いまわすことができます！2 回目以降は台本の作成のみで動画を作成することができるので、労力削減に YMovieHelper を使用してください。

## トラブルシューティング

> Q. 「サーバーエラー！時間をおいてから試してください！」とあるから時間をおいて試しているのに全く状況が改善されません。<br /><br />A. 個人開発なので、ユーザーからの入力を全て予測することは限りなく不可能に近いです。なので、アップロードする際におかしなファイルだったり、ルール定義がおかしかったり、etc... の場合にも一律で「サーバーエラー！時間をおいてから試してください！」としています。サーバーがダウンしているときには Twitter でツイートしていますので、そうでない場合はご自身のファイルなどがおかしくないかを確認してください。<br />Dynamic Item のファイルパスが認識されていない、等の問題が発生しているときはフォルダ構成が誤っている可能性が高いです。フォルダ構成は必ず守ってください。（要望が多かった場合には、ファイル形式がどのようにおかしいかをポップアップで教える機能を追加しようとは考えています。要望の多い順から実装を行います。）

> Q. UI の表示が崩れてるんだけど。<br /><br />A. ご迷惑をおかけして申し訳ありません。[お問い合わせフォーム](https://forms.gle/Gh3ZpW9DS64eb1qS7)でご連絡いただけるとすごく助かります。ただ、スマートフォンやタブレットでの使用は想定していないので、表示が崩れることは大いに考えられます。使用する際にはできるだけ PC で閲覧、使用していただけると助かります。

> Q. なんか、サイト遅くない？<br /><br /> A. 運営者が学生のため、サーバー代を出来るだけ節約しています。本当に申し訳ありません。また、アクセス数が少ない時はデータベースとの接続を遮断しているので、そのために遅くなっている可能性は大いに考えられます。定期的にアクションを行えばデータベースへリクエストを飛ばせるのでご協力をお願いします。

> Q. YMovieHelper を使って ○○ してもいい？<br /><br /> A. 利用規約をご覧ください。ご自身で判断しかねる場合は [お問い合わせフォーム](https://forms.gle/Gh3ZpW9DS64eb1qS7) にて直接ご連絡ください。

## 謝辞

YMovieHelper を作成するにあたり、ご協力をいただいた方の名前を以下に記します。本当にありがとうございました。

- [饅頭遣い様](https://twitter.com/manju_summoner)(YukkuriMovieMaker4 の作者様)
- [ふにちか様](https://twitter.com/nitikapo)(Character における立ち絵の提供者様)

## お願い

YMovieHelper はマネタイズを行っておらず、サーバー代はだんごの自費でまかなわれています。また、収益を生むようなアプリケーションは種々のサービスの規約に反するので今後有料化することもありません（できません）。

そのため、私の活動を少しでも支援いただける方は、[本リンク](https://www.amazon.co.jp/hz/wishlist/ls/3TXBM23G0JOV2)にあるほしいものリストにあるものをプレゼントしていただけると本当に助かります。直接ご支援いただける方は[Kanpa!](https://kampa.me/t/vgp)というサービスもあります。

また、機能追加の要望は[お問い合わせフォーム](https://forms.gle/Gh3ZpW9DS64eb1qS7)にてお知らせください。要望が多いものから実装を行います。ほしいものリストにある商品を購入する際には 50 文字以内のメッセージを添付することができるので、連絡先と追加してほしい機能を記載していただければ、優先的に実装を行いたいと思います（不明な点があれば後日詳細をお聞きするので Twitter かメールアドレスを必ず添付ください。）。ただし、技術的に難しかったり、用途が非常に限られる（需要が少ない）と判断した場合は実装しない場合もあることがありますのであらかじめご了承願います。上記 2 つはあくまで支援であり、機能追加の要望は Twitter の DM を通していただければ基本的に全部確認します。
